/////////////////////////////////////////////////////////////////////////////////////////
// TODO: разобраться с 45...
// Подсказка: данные доходят до пака, но хз куда деваются.
/////////////////////////////////////////////////////////////////////////////////////////
#include "server.hpp"
#include <iostream>
#include <chrono>
#include <thread>
/////////////////////////////////////////////////////////////////////////////////////////
OneGameServer::OneGameServer( sf::UdpSocket* firstClient, sf::UdpSocket* secondClient )
{
    setClients(firstClient, secondClient);
}
/////////////////////////////////////////////////////////////////////////////////////////
OneGameServer::~OneGameServer()
{
    disconnectAll();
}
/////////////////////////////////////////////////////////////////////////////////////////
void OneGameServer::setClients( sf::UdpSocket* firstClient, sf::UdpSocket* secondClient )
{
    disconnectAll();
    clients = std::make_pair(firstClient, secondClient);
    clients.first->setBlocking(false);
    clients.second->setBlocking(false);
}
/////////////////////////////////////////////////////////////////////////////////////////
void OneGameServer::run()
{
}
/////////////////////////////////////////////////////////////////////////////////////////
void OneGameServer::disconnectAll()
{
    delete clients.first;
    delete clients.second;
    clients.first = nullptr;
    clients.second = nullptr;
}
